<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Bot de Ecuaciones Lineales y Cuadr√°ticas</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eef2f3;
      padding: 20px;
    }
    input, button {
      font-size: 16px;
      padding: 8px;
      margin: 5px 0;
      width: 100%;
      max-width: 400px;
    }
    #grafico {
      width: 100%;
      max-width: 700px;
      height: 400px;
      margin-top: 20px;
    }
    #salida, #bot {
      background: #fff;
      padding: 15px;
      margin-top: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px #ccc;
      max-width: 700px;
    }
  </style>
</head>
<body>

<h2>Resolver Ecuaciones Lineales y Cuadr√°ticas</h2>

<p>Ejemplo: <code>2*x + 5 = 0</code> o <code>x^2 + 3*x + 2 = 0</code></p>

<input type="text" id="ecuacion" placeholder="Escribe la ecuaci√≥n aqu√≠">
<button onclick="resolverEcuacion()">Resolver y Graficar</button>

<div id="bot"></div>
<div id="grafico"></div>
<div id="salida"></div>

<script>
function resolverEcuacion() {
  const input = document.getElementById("ecuacion").value;
  const lhs_rhs = input.split("=");

  if (lhs_rhs.length !== 2) {
    document.getElementById("bot").innerHTML = "‚ö†Ô∏è La ecuaci√≥n debe tener un signo '='.";
    return;
  }

  const lhs = lhs_rhs[0];
  const rhs = lhs_rhs[1];

  const expr = math.simplify(lhs + "-(" + rhs + ")");
  const simplified = expr.toString(); // Ecuaci√≥n simplificada
  const grado = math.derivative(simplified, 'x').toString().includes('x') ? 2 : 1;

  let pasos = "";
  let soluciones = [];

  if (grado === 1) {
    pasos += "<h3>üß† Resolviendo ecuaci√≥n lineal paso a paso:</h3>";
    pasos += `<p>1. Pasamos todos los t√©rminos a un solo lado: <strong>${lhs} = ${rhs}</strong> ‚áí <strong>${simplified} = 0</strong></p>`;
    soluciones = math.solve(simplified, 'x');
    pasos += `<p>2. Despejamos x. Soluci√≥n: <strong>x = ${soluciones[0]}</strong></p>`;
  } else {
    pasos += "<h3>üß† Resolviendo ecuaci√≥n cuadr√°tica paso a paso:</h3>";
    pasos += `<p>1. Pasamos todo al lado izquierdo: <strong>${lhs} = ${rhs}</strong> ‚áí <strong>${simplified} = 0</strong></p>`;
    const a = math.evaluate(`coefficient(${simplified}, x, 2)`);
    const b = math.evaluate(`coefficient(${simplified}, x, 1)`);
    const c = math.evaluate(`coefficient(${simplified}, x, 0)`);
    const discriminante = b*b - 4*a*c;

    pasos += `<p>2. Identificamos: a = ${a}, b = ${b}, c = ${c}</p>`;
    pasos += `<p>3. Calculamos el discriminante: D = b¬≤ - 4ac = ${discriminante}</p>`;

    if (discriminante < 0) {
      pasos += "<p>4. El discriminante es negativo, no hay soluciones reales.</p>";
    } else {
      const x1 = ((-b + Math.sqrt(discriminante)) / (2*a)).toFixed(4);
      const x2 = ((-b - Math.sqrt(discriminante)) / (2*a)).toFixed(4);
      soluciones = [x1, x2];
      pasos += `<p>4. Aplicamos la f√≥rmula general: x = (-b ¬± ‚àöD) / 2a</p>`;
      pasos += `<p>5. Soluciones: <strong>x‚ÇÅ = ${x1}, x‚ÇÇ = ${x2}</strong></p>`;
    }
  }

  document.getElementById("bot").innerHTML = pasos;

  // Graficar
  const x = [], y = [];
  for (let i = -20; i <= 20; i += 0.1) {
    x.push(i);
    y.push(math.evaluate(simplified, {x: i}));
  }

  const minY = Math.min(...y).toFixed(2);
  const maxY = Math.max(...y).toFixed(2);

  Plotly.newPlot("grafico", [{
    x: x,
    y: y,
    mode: "lines",
    name: "f(x)"
  }], {
    title: "Gr√°fica de la funci√≥n",
    xaxis: { title: "x", range: [-20, 20] },
    yaxis: { title: "y" }
  });

  document.getElementById("salida").innerHTML = `
    <p><strong>Dominio:</strong> [‚àí20, 20]</p>
    <p><strong>Rango aproximado:</strong> [${minY}, ${maxY}]</p>
    <p><strong>Soluciones reales:</strong> ${soluciones.length > 0 ? soluciones.join(", ") : "Ninguna"}</p>
  `;
}
</script>

</body>
</html>

      
 
     
   
